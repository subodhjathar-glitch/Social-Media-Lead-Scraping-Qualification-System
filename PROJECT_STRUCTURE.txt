Social Media Lead Scraping System
==================================

Project Root: /home/subodh/

ğŸ“ Project Structure
====================

â”œâ”€â”€ ğŸ“‚ src/                           # Main application code
â”‚   â”œâ”€â”€ __init__.py                   # Package initialization
â”‚   â”œâ”€â”€ config.py                     # Configuration management (Pydantic)
â”‚   â”œâ”€â”€ utils.py                      # Logging and hash utilities
â”‚   â”œâ”€â”€ scraper.py                    # YouTube scraper with quota management
â”‚   â”œâ”€â”€ qualifier.py                  # AI lead qualification (GPT-4o-mini)
â”‚   â”œâ”€â”€ database.py                   # Airtable operations
â”‚   â”œâ”€â”€ notifier.py                   # Email digest sender
â”‚   â””â”€â”€ main.py                       # Main orchestrator
â”‚
â”œâ”€â”€ ğŸ“‚ .github/workflows/             # GitHub Actions
â”‚   â””â”€â”€ scrape.yml                    # Automated scheduling (6 AM, 6 PM UTC)
â”‚
â”œâ”€â”€ ğŸ“‚ logs/                          # Log files (auto-created)
â”‚   â””â”€â”€ YYYYMMDD.log                  # Daily logs
â”‚
â”œâ”€â”€ ğŸ“„ .env.example                   # Environment variable template
â”œâ”€â”€ ğŸ“„ .gitignore                     # Git ignore rules
â”œâ”€â”€ ğŸ“„ requirements.txt               # Python dependencies
â”œâ”€â”€ ğŸ“„ setup.sh                       # Setup automation script
â”œâ”€â”€ ğŸ“„ test_setup.py                  # Pre-flight testing
â”‚
â””â”€â”€ ğŸ“š Documentation
    â”œâ”€â”€ README.md                     # Main documentation (450 lines)
    â”œâ”€â”€ QUICKSTART.md                 # Quick setup guide
    â”œâ”€â”€ TESTING.md                    # Testing guide (350 lines)
    â”œâ”€â”€ PROJECT_SUMMARY.md            # Complete project overview (450 lines)
    â””â”€â”€ PROJECT_STRUCTURE.txt         # This file

ğŸ“Š Statistics
=============

Core Application Code:
  - config.py:       60 lines
  - utils.py:        60 lines
  - scraper.py:     420 lines
  - qualifier.py:   150 lines
  - database.py:    180 lines
  - notifier.py:    200 lines
  - main.py:        180 lines
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total:          1,250 lines

Documentation:
  - README.md:      450 lines
  - TESTING.md:     350 lines
  - PROJECT_SUMMARY: 450 lines
  - QUICKSTART.md:  350 lines
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total:          1,600 lines

Infrastructure:
  - scrape.yml:      45 lines
  - setup.sh:        45 lines
  - test_setup.py:  250 lines
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total:            340 lines

Project Total:    3,190 lines

ğŸ¯ Key Features
===============

1. âœ… YouTube Scraper
   - Channel discovery by search terms
   - Recent video fetching (configurable days)
   - Comment extraction with metadata
   - Direct comment URL generation
   - Real-time quota tracking (3,330/run)
   - Exponential backoff retry

2. âœ… AI Qualification
   - GPT-4o-mini for cost efficiency
   - Intent classification: High/Medium/Low
   - Confidence scoring (0-100)
   - Detailed reasoning
   - Structured JSON output

3. âœ… Duplicate Detection
   - SHA-256 hash: username|platform|text
   - Checks Airtable before AI (saves cost)
   - Prevents reprocessing

4. âœ… Airtable Storage
   - 11 fields per lead
   - Batch operations (10 records/request)
   - Visual interface for manual review
   - Direct comment links for easy access

5. âœ… Email Digests
   - HTML formatted
   - Grouped by intent (High/Medium/Low)
   - Summary statistics
   - Direct links to comments and videos
   - Error notifications

6. âœ… GitHub Actions
   - Automated scheduling (2x daily)
   - Manual trigger capability
   - Secure secret management
   - Log artifacts (30-day retention)

7. âœ… Error Handling
   - Exponential backoff retries
   - Graceful degradation
   - Comprehensive logging
   - Error notification emails

ğŸ”§ Configuration
================

Environment Variables (.env):

Required:
  - YOUTUBE_API_KEY
  - OPENAI_API_KEY
  - AIRTABLE_TOKEN
  - AIRTABLE_BASE_ID
  - EMAIL_PASSWORD

Configurable:
  - SEARCH_TERMS (default: Sadhguru official,...)
  - DAYS_BACK (default: 7)
  - MAX_VIDEOS_PER_CHANNEL (default: 10)
  - MAX_COMMENTS_PER_VIDEO (default: 100)
  - YOUTUBE_QUOTA_LIMIT (default: 3330)
  - MIN_SUBSCRIBER_COUNT (default: 100000)

ğŸ“ˆ Data Flow
============

1. GitHub Actions triggers (6 AM/6 PM UTC)
   â†“
2. Scraper discovers channels by search terms
   â†“
3. Fetches recent videos (last N days)
   â†“
4. Extracts comments with metadata
   â†“
5. Generates hash for duplicate detection
   â†“
6. Checks Airtable for existing hash
   â†“
7. Qualifies unique comments with GPT-4o-mini
   â†“
8. Stores qualified leads in Airtable
   â†“
9. Fetches leads from last 24 hours
   â†“
10. Sends HTML email digest

ğŸ’° Cost Estimates
=================

Per Run (50 comments):
  - YouTube API: $0 (within quota)
  - OpenAI: ~$0.02
  - Airtable: $0 (free tier)
  - GitHub Actions: $0 (free tier)
  - Email: $0 (Gmail)

Monthly (60 runs):
  - Total: $1-2/month

ğŸš€ Quick Start
==============

1. Run setup:
   bash setup.sh

2. Configure .env:
   nano .env

3. Test setup:
   python test_setup.py

4. Test run:
   python -m src.main

5. Push to GitHub:
   git init && git add . && git commit -m "Initial commit"
   git remote add origin <url> && git push

6. Add GitHub secrets:
   - YOUTUBE_API_KEY
   - OPENAI_API_KEY
   - AIRTABLE_TOKEN
   - AIRTABLE_BASE_ID
   - EMAIL_PASSWORD

7. Enable GitHub Actions

Total setup time: ~45-50 minutes

âœ… Testing
==========

Automated tests:
  python test_setup.py

Manual tests:
  - Component testing (see TESTING.md)
  - Scenario testing
  - GitHub Actions testing

Success indicators:
  âœ“ All tests pass
  âœ“ Leads in Airtable
  âœ“ Email digest received
  âœ“ Direct links work
  âœ“ Logs created

ğŸ“š Documentation Files
======================

README.md
  - Complete setup instructions
  - API key prerequisites
  - Configuration reference
  - Troubleshooting guide
  - System architecture

QUICKSTART.md
  - Step-by-step setup (< 1 hour)
  - Prerequisites checklist
  - Airtable schema setup
  - GitHub Actions setup
  - Verification steps

TESTING.md
  - Component testing
  - Test scenarios
  - Performance benchmarks
  - Troubleshooting tests
  - Success checklist

PROJECT_SUMMARY.md
  - Complete project overview
  - What was built
  - Key features
  - Configuration options
  - Data flow
  - Cost analysis
  - Next steps

ğŸ¯ Success Metrics
==================

Target (12 weeks):
  âœ“ Automated 2x daily runs
  â–¡ 50+ leads per week
  â–¡ 30%+ high intent rate
  â–¡ 5-8 enrollments per week
  â–¡ <15 min/day review time
  âœ“ Low operating cost

ğŸ› ï¸ Maintenance
===============

Daily: Review email digests (5-10 min)

Weekly:
  - Check Airtable for quality
  - Adjust search terms if needed
  - Monitor quota usage

Monthly:
  - Review AI accuracy
  - Update prompts if needed
  - Check cost vs budget
  - Analyze conversion metrics

ğŸ“ Support
==========

1. Check logs: logs/YYYYMMDD.log
2. Run diagnostics: python test_setup.py
3. Review README.md troubleshooting
4. Check GitHub Actions logs
5. Verify API keys and permissions

Generated: 2026-02-08
Version: 1.0.0
